"use strict";(self.webpackChunkgamysh=self.webpackChunkgamysh||[]).push([[292],{1310:function(e,l,t){t.r(l);var n=t(184);l.default=function(e){var l=e.children,t=e.header,i=e.footer;return(0,n.jsxs)("div",{className:"flex flex-col justify-between relative w-full h-full px-1 sm:px-4 py-2 overflow-y-hidden",children:[(0,n.jsx)("div",{className:"w-full z-50 pr-3",children:t}),(0,n.jsx)("div",{className:"relative w-full h-full shadow-lg rounded-2xl overflow-hidden bg-white max-h-87 2xl:max-h-90 4xl:max-h-90",children:l}),(0,n.jsx)("div",{className:"w-full",children:i})]})}},3359:function(e,l,t){var n=t(1247),i=t(2042),s=t(432),o=t(184);l.Z=function(e){var l=e.visible,t=e.setCloseModal,r=e.size,a=e.title,c=e.children;return(0,o.jsxs)(n.Z,{size:r,active:l,toggler:t,children:[(0,o.jsx)(i.Z,{toggler:t,children:(0,o.jsx)("span",{className:"text-base md:text-xl",children:a})}),(0,o.jsx)(s.Z,{children:c})]})}},9481:function(e,l,t){t.d(l,{Z:function(){return p}});var n=t(1413),i=t(885),s=(t(3359),t(6293)),o=t(9961),r=t(3041),a=t(2791),c=t(2921),u=t(184);function d(e){var l=e.setLocation,t=e.toCenter,n=e.location,i=(0,s.Sx)(),o=(0,a.useRef)(!0);return i.on("click",(function(e){var s,r;if(!o.current)return null;(null===n||void 0===n?void 0:n.lat)!==(null===(s=e.latlng)||void 0===s?void 0:s.lat)&&(null===n||void 0===n?void 0:n.lng)!==(null===(r=e.latlng)||void 0===r?void 0:r.lng)&&(i.setView(e.latlng,i.getZoom(),{animate:t.current||!1}),l(e.latlng))})),i.on("moveend",(function(e){var t,i;if(!o.current)return null;(null===n||void 0===n?void 0:n.lat)!==(null===(t=e.target.getCenter())||void 0===t?void 0:t.lat)&&(null===n||void 0===n?void 0:n.lng)!==(null===(i=e.target.getCenter())||void 0===i?void 0:i.lng)&&l(e.target.getCenter())})),(0,a.useEffect)((function(){return function(){o.current=!1}}),[]),null}var f=function(e){var l=e.setLocation,t=e.position,n=(0,a.useRef)(!1);console.log(t);var s=(0,a.useRef)(null),f=(0,a.useState)(null),x=(0,i.Z)(f,2),m=x[0],v=x[1];(0,a.useEffect)((function(){var e;(console.log("ello"),s&&null!==t&&void 0!==t&&t.lat)&&(console.log("hello if"),null===(e=s.current)||void 0===e||e.flyTo([t.lat,t.lng],16))}),[null===t||void 0===t?void 0:t.lat,m]),(0,a.useEffect)((function(){console.log(m)}),[m]);var h=(0,a.useMemo)((function(){return(0,u.jsxs)(o.h,{whenCreated:v,center:[37.96008,58.32606],zoom:15,ref:s,style:{width:"99%",height:"550px",backgroundColor:"red",marginTop:"10px",marginBottom:"90px"},children:[(0,u.jsx)(c.m,{className:"absolute text-gray-800 top-1/2 left-1/2 text-5xl -mt-11 -ml-6",style:{zIndex:1e5}}),(0,u.jsx)(r.I,{url:"http://95.85.127.250:5000/tile/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),(0,u.jsx)(d,{setLocation:l,toCenter:n})]})}),[]);return(0,u.jsx)("div",{className:"relative h-full w-full",children:h})},x=t(1310),m=t(7689),v=t(6030),h=t(5564),g=t(1547),j=t(5218);var p=function(e){e.visible,e.setCloseModal;var l,t=(0,m.s0)(),s=(0,m.TH)(),o=(0,v.v9)((function(e){return null===e||void 0===e?void 0:e.auth.token})),r=null===s||void 0===s||null===(l=s.pathname)||void 0===l?void 0:l.split("/")[2],c=(0,v.I0)(),d=(0,a.useState)({}),p=(0,i.Z)(d,2),w=p[0],b=p[1],N=(0,a.useState)(!1),y=(0,i.Z)(N,2),k=y[0];return y[1],(0,a.useEffect)((function(){r&&c((0,h.U2)({url:"api/admin/get-client-info/".concat(r),token:o,action:function(e){e.success&&(console.log(e.data),b(e.data.data))}}))}),[]),(0,u.jsx)(x.default,{children:(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"px-2 w-full h-full flex flex-row",children:[(0,u.jsx)("div",{className:"w-9/12 h-full",children:(0,u.jsx)(f,{setLocation:function(e){console.log(e),b((function(l){return(0,n.Z)((0,n.Z)({},l),{},{lat:e.lat,lng:e.lng})}))},position:{lat:null===w||void 0===w?void 0:w.lat,lng:null===w||void 0===w?void 0:w.lng}})}),(0,u.jsxs)("div",{className:"p-6 flex flex-col w-3/12",children:[(0,u.jsxs)("div",{className:"flex flex-row w-full justify-between items-beetwen text-xl",children:[(0,u.jsx)("label",{className:"pr-1",children:"ID:"}),(0,u.jsx)("span",{children:null===w||void 0===w?void 0:w.id})]}),(0,u.jsxs)("div",{className:"flex flex-row w-full justify-between items-beetwen text-xl",children:[(0,u.jsx)("label",{className:"pr-1",children:"Name:"}),(0,u.jsx)("span",{children:null===w||void 0===w?void 0:w.name})]}),(0,u.jsxs)("div",{className:"flex flex-row w-full justify-between items-beetwen text-xl",children:[(0,u.jsx)("label",{className:"pr-1",children:"Phone:"}),(0,u.jsx)("span",{children:null===w||void 0===w?void 0:w.phone_number})]}),(0,u.jsxs)("div",{className:"flex flex-row w-full justify-between items-beetwen text-xl",children:[(0,u.jsx)("label",{className:"pr-1",children:"Address:"}),(0,u.jsx)("span",{children:null===w||void 0===w?void 0:w.address})]}),(0,u.jsx)("button",{type:"submit",onClick:function(){return console.log("hello world"),void c((0,h.v_)({url:"api/admin/update-location/".concat(r),token:o,data:w,action:function(e){e.success?t("/clients"):j.Am.error("Unknown error")}}))},disabled:k,className:"w-40 flex remove-button-bg justify-center items-center px-4 h-10 text-white transform ease-in-out duration-300 hover:scale-110 active:scale-100 font-semibold text-base rounded-full bg-green-500 hover:bg-green-400 active:bg-green-500 focus:outline-none shadow-md",children:k?(0,u.jsx)("div",{className:"w-12",children:(0,u.jsx)(g.Z,{size:"sm"})}):"Update"})]})]})})})}},8292:function(e,l,t){t.r(l),t.d(l,{default:function(){return w}});var n=t(7689),i=t(1087),s=(t(6571),t(184));var o=function(){return(0,s.jsx)("div",{className:"flex flex-row justify-center items-center pt-3 pb-3 sm:pb-6",children:(0,s.jsx)("h1",{className:"text-2xl font-semibold text-indigo-600 hidden sm:flex",children:"Tiger"})})},r=function(e){var l=e.item,t=(0,n.TH)().pathname.split("/")[1];return(0,s.jsxs)(i.OL,{to:l.link,className:function(e){var l=e.isActive;return"".concat(l?"sm:bg-blue-50 text-orange":"text-gray-600"," relative grid grid-cols-5 my-2 w-full sm:hover:bg-blue-50 active:bg-white")},children:[(0,s.jsx)("div",{className:"".concat(t===l.link?"bg-indigo-600 rounded-r-full text-white":""," col-span-1 remove-button-bg p-1 sm:p-2 overflow-hidden w-10 sm:w-12"),children:(0,s.jsx)(l.icon,{className:"text-xl sm:text-2xl ml-1"})}),(0,s.jsx)("h3",{className:"col-span-4 whitespace-nowrap font-medium pl-3 py-2 hidden sm:flex",children:l.title})]})};var a=function(e){var l=e.routes,t=e.user;return(0,s.jsxs)("div",{className:"flex flex-col justify-between items-start w-full",children:[(0,s.jsx)(o,{}),(0,s.jsx)("div",{className:"flex w-full flex-col justify-start items-start h-full",children:l.map((function(e){return e.roles[null===t||void 0===t?void 0:t.role_id]?(0,s.jsx)(r,{item:e},e.id):null}))})]})},c=t(2791),u=t(555),d=t(3198),f=(0,c.lazy)((function(){return Promise.all([t.e(340),t.e(573)]).then(t.bind(t,4573))})),x=(0,c.lazy)((function(){return Promise.all([t.e(677),t.e(340),t.e(396),t.e(64)]).then(t.bind(t,1064))})),m=(0,c.lazy)((function(){return Promise.all([t.e(677),t.e(340),t.e(396),t.e(625)]).then(t.bind(t,4756))})),v=[{id:2,roles:{1:!0},index:!1,link:"operators",path:"operators",title:"Operatory",element:(0,s.jsx)(x,{}),icon:u.b},{id:3,roles:{1:!0,2:!0},index:!1,link:"managers",path:"managers",title:"managers",element:(0,s.jsx)(m,{}),icon:d.I},{id:4,roles:{1:!0,2:!0},index:!1,link:"clients",path:"clients",title:"Clients",element:(0,s.jsx)(f,{}),icon:d.I}],h=t(5654),g=t(6030),j=t(6326),p=t(9481);var w=function(){var e=(0,g.I0)(),l=(0,g.v9)((function(e){return e.auth.user}));return(0,s.jsxs)("div",{className:"flex flex-row justify-start items-start h-full w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-between h-full overflow-y-auto overflow-x-hidden sm:min-w-250 max-w-250 w-11 sm:w-full z-20 shadow-lg",children:[(0,s.jsx)(a,{routes:v,user:l}),(0,s.jsxs)("button",{onClick:function(){return e((0,j.R)())},className:"w-full flex flex-row justify-start items-center text-gray-600 pl-3 sm:pl-5 focus:outline-none hover:bg-blue-50 active:bg-white py-2",children:[(0,s.jsx)(h.g,{className:"text-xl sm:text-2xl"}),(0,s.jsx)("span",{className:"ml-5 hidden sm:flex",children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),(0,s.jsx)("div",{className:"h-full overflow-x-auto col-start-3 bg-blue-50 w-full",children:(0,s.jsxs)(n.Z5,{children:[v.map((function(e){return e.roles[null===l||void 0===l?void 0:l.role_id]?(0,s.jsx)(n.AW,{index:e.index,path:e.path,element:e.element},e.id):null})),(0,s.jsx)(n.AW,{path:"client/:id",element:(0,s.jsx)(p.Z,{})})]})})]})}}}]);
//# sourceMappingURL=292.c4a39790.chunk.js.map